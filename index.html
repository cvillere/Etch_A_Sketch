<!DOCTYPE html>
<html>
<head>
<title></title>
</head>

<body>
    <script>
        const containerDiv = document.createElement("div");
        containerDiv.style.maxWidth = "960px";



        for (i = 0; i < 25; i++) {
            const innerDiv = document.createElement("div");
            innerDiv.className = "firstDiv";
            innerDiv.style.display = "inline-grid";
            innerDiv.style.border = "25px";
            innerDiv.style.margin = "1px";
            innerDiv.style.borderStyle = "dashed dashed dashed dashed"

            containerDiv.appendChild(innerDiv);
        };


        containerDiv.style.position = "relative";
        containerDiv.style.top = "100px";
        document.body.appendChild(containerDiv);
        //console.log(containerDiv);
        
        const resetButton = document.createElement("button");
        resetButton.style.width = "150px";
        resetButton.style.height = "55px";
        resetButton.style.position = "fixed";
        resetButton.style.left = "42%";

        //function to clear grid on the site
        //need to send user a popup asking how many squares 
        //per side to make the new grid.
        //New grid should be generated in same space as before. 

        function clearGrid () {
            document.querySelectorAll(".firstDiv").forEach(
               e => e.parentNode.removeChild(e));
            
            
        };

        function createNewGrid (){
            clearGrid();
            var x = prompt("How many divs per side would you like in your grid");
            
            for (i = 0; i < x; i++) {
                const innerDiv = document.createElement("div");
                innerDiv.className = "firstDiv";
                innerDiv.style.display = "inline-grid";
                innerDiv.style.border = "25px";
                innerDiv.style.margin = "1px";
                innerDiv.style.borderStyle = "dashed dashed dashed dashed";
                containerDiv.appendChild(innerDiv);
            };
            
            [...document.querySelectorAll(".firstDiv")].forEach((firstDiv) => 
                firstDiv.addEventListener("mouseenter", (firstDiv) => {
                let x = Math.floor(Math.random() * 256);
                let y = Math.floor(Math.random() * 256);
                let z = Math.floor(Math.random() * 256);
                let bgColor = "rgb(" + x + "," + y + "," + z + ")";   
                firstDiv.target.style.color = bgColor; 
            }));
        
        

            [...document.querySelectorAll(".firstDiv")].forEach(firstDiv => 
                firstDiv.addEventListener("mouseleave", firstDiv => {
                let x = Math.floor(Math.random() * 256);
                let y = Math.floor(Math.random() * 256);
                let z = Math.floor(Math.random() * 256);
                let bgColor = "rgb(" + x + "," + y + "," + z + ")"; 
                firstDiv.target.style.color = bgColor;
            }));
    };

        resetButton.addEventListener("click", () => createNewGrid());
        


        document.body.insertBefore(resetButton, containerDiv);
            
        
        [...document.querySelectorAll(".firstDiv")].forEach((firstDiv) => 
            firstDiv.addEventListener("mouseenter", (firstDiv) => {
            let x = Math.floor(Math.random() * 256);
            let y = Math.floor(Math.random() * 256);
            let z = Math.floor(Math.random() * 256);
            let bgColor = "rgb(" + x + "," + y + "," + z + ")";   
            firstDiv.target.style.color = bgColor; 
        }));
        
        

        [...document.querySelectorAll(".firstDiv")].forEach(firstDiv => 
            firstDiv.addEventListener("mouseleave", firstDiv => {
            let x = Math.floor(Math.random() * 256);
            let y = Math.floor(Math.random() * 256);
            let z = Math.floor(Math.random() * 256);
            let bgColor = "rgb(" + x + "," + y + "," + z + ")"; 
            firstDiv.target.style.color = bgColor;
        }));




    </script>


</body>

</html>